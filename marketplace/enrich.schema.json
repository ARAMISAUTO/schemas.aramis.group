{
    "$id": "https://schemas.aramis.group/marketplace/enrich.schema.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "enrichers": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "weight": {
                    "type": "object",
                    "additionalProperties": false,
                    "description": "Enabled/disable weight enricher",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "default": false
                        }
                    },
                    "required": ["enabled"]
                },
                "category": {
                    "type": "object",
                    "additionalProperties": false,
                    "description": "Enabled/disable category enricher",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "default": false
                        }
                    },
                    "required": ["enabled"]
                },
                "electricCo2Emission": {
                    "type": "object",
                    "additionalProperties": false,
                    "description": "Enabled/disable electric co2 emission enricher",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "default": true
                        }
                    },
                    "required": ["enabled"]
                },
                "pictogram": {
                    "type": "object",
                    "additionalProperties": false,
                    "description": "Enabled/disable pictogram enricher",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "default": true
                        }
                    },
                    "required": ["enabled"]
                },
                "priceComputation": {
                    "type": "object",
                    "additionalProperties": false,
                    "description": "Enabled/disable price computation enricher",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "default": true
                        }
                    },
                    "required": ["enabled"]
                },
                "pictureOptimizer": {
                    "type": "object",
                    "additionalProperties": false,
                    "description": "Enabled/disable picture optimizer enricher",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "default": false,
                            "description": "By default, picture optimization is disabled for all partners"
                        },
                        "crop": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "enabled": {
                                    "type": "boolean",
                                    "default": false
                                }
                            },
                            "required": [
                                "enabled"
                            ]
                        },
                        "cropMargin": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "enabled": {
                                    "type": "boolean",
                                    "default": false
                                },
                                "top": {
                                    "type": "number",
                                    "default": 0,
                                    "minimum": 0,
                                    "maximum": 1
                                },
                                "bottom": {
                                    "type": "number",
                                    "default": 0,
                                    "minimum": 0,
                                    "maximum": 1
                                },
                                "left": {
                                    "type": "number",
                                    "default": 0,
                                    "minimum": 0,
                                    "maximum": 1
                                },
                                "right": {
                                    "type": "number",
                                    "default": 0,
                                    "minimum": 0,
                                    "maximum": 1
                                }
                            },
                            "required": [
                                "enabled"
                            ],
                            "if": {
                                "properties": {
                                    "enabled": true
                                }
                            },
                            "then": {
                                "required": [
                                    "top",
                                    "bottom",
                                    "left",
                                    "right"
                                ]
                            }
                        },
                        "blurKeywords": {
                            "type": "object",
                            "additionalProperties": false,
                            "description": "Keywords for blur",
                            "properties": {
                                "enabled": {
                                    "type": "boolean",
                                    "default": false
                                },
                                "keywords": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    },
                                    "additionalProperties": false
                                }
                            },
                            "required": ["enabled"],
                            "if": {
                                "properties": {
                                    "enabled": true
                                }
                            },
                            "then": {
                                "properties": {
                                    "keywords": {
                                        "minLength": 1
                                    }
                                }
                            }
                        },
                        "blurPlate": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "enabled": {
                                    "type": "boolean",
                                    "default": false
                                }
                            },
                            "required": ["enabled"]
                        },
                        "deleteBackground": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "enabled": {
                                    "type": "boolean",
                                    "default": false
                                }
                            },
                            "required": ["enabled"]
                        }
                    },
                    "required": ["enabled"]
                }
            }
        }
    }
}
